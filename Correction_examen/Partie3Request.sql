QUESTION 1

DELETE FROM TECHNICIEN;
INSERT INTO TECHNICIEN (NUM_TECHNICIEN)
VALUES(1),
(2),
(3),
(4),
(5);

DELETE FROM EQUIPEMENT;
INSERT INTO EQUIPEMENT (NUM_EQUIPEMENT,NOM_EQUIPEMENT)
VALUES(1,"test_ equipement1"),
(2,"test_ equipement2"),
(3,"test_ equipement3"),
(4,"test_ equipement4"),
(5,"test_ equipement5");

DELETE FROM SITEDISTANT;
INSERT INTO SITEDISTANT (NUM_SITE_DISTANT)
VALUES(1),
(2),
(3),
(4);

DELETE FROM SIEGE;
INSERT INTO SIEGE (NOM_SIEGE,NUM_SITE_DISTANT,NUM_SITE)
VALUES ("Toto",1,1),
("Tata",2,1),
("Titi",3,2),
("Tutu",4,4);

DELETE FROM SITE ;
INSERT INTO SITE (NUM_SITE,NOM_SITE,ADRESSE_SITE,NOM_SIEGE,NUM_EQUIPEMENT,NUM_DIRECTION)
VALUES (1,"Site1","lieux1","Toto",1,1),
(2,"Site2","lieux2","Tata",2,2),
(3,"Site2","lieux3","Titi",3,3),
(4,"Site3","lieux4","Tutu",4,4);

DELETE FROM DIRECTION;
INSERT INTO DIRECTION (NUM_DIRECTION,NOM_DIRECTION,NUM_SITE,NUM_DEMANDEUR)
VALUES(1,"Direction1",1,1),
(2,"Direction2",2,2),
(3,"Direction3",3,3),
(4,"Direction4",4,4);

DELETE FROM SOUSDIRECTION ;
INSERT INTO SOUSDIRECTION(NUM_SOUS_DIRECTION,NOM_SOUS_DIRECTION,NUM_TECHNICIEN,NUM_DIRECTION)
VALUES(1,"SDirection1",1,1),
(2,"SDirection2",2,1),
(3,"SDirection3",3,2),
(4,"SDirection3",4,3);

DELETE FROM EMPLOYE ;
INSERT INTO EMPLOYE (NUM_EMPLOYE,NOM_EMPLOYE,NUM_DEMANDEUR,NUM_TECHNICIEN)
VALUES(1,"Kevin",1,1),
(2,"Karl",2,2),
(3,"Jean",3,3),
(4,"Marco",4,4);

DELETE FROM DEMANDEURINTERVENTION ;
INSERT INTO DEMANDEURINTERVENTION (NUM_DEMANDEUR,NUM_EMPLOYE,NUM_INTERVENTION)
VALUES(1,1,1),
(2,2,2),
(3,3,3),
(4,4,4);

DELETE FROM INTERVENTION;
INSERT INTO INTERVENTION (NUM_INTERVENTION,DESC_INTERVENTION,DATE_PREVUE,DATE_EFFECTIVE,ETAT_INTERVENTION,NUM_TECHNICIEN)
VALUES(1,"Desc1",STR_TO_DATE("2012 December 03","%Y %M %d"),STR_TO_DATE("2012 December 03","%Y %M %d"),"traité",1),
(2,"Desc2",STR_TO_DATE("2012 December 05","%Y %M %d"),STR_TO_DATE("2012 December 06","%Y %M %d"),"non traité",2),
(3,"Desc3",STR_TO_DATE("2012 December 12","%Y %M %d"),STR_TO_DATE("2012 December 12","%Y %M %d"),"en cours",3),
(4,"Desc4",STR_TO_DATE("2012 December 24","%Y %M %d"),STR_TO_DATE("2012 December 26","%Y %M %d"),"non traité",4);

DELETE FROM TYPEINTERVENTION ;
INSERT INTO TYPEINTERVENTION (NUM_TYPE,	NOM_TYPE,NUM_INTERVENTION)
VALUES(1,"URGENT",1),
(2,"NON URGENT",2);

ALTER TABLE TYPEINTERVENTION
ADD CONSTRAINT 'TYPEINTERVENTIONFK' FOREIGN KEY ('NUM_INTERVENTION') REFERENCES 'INTERVENTION(NUM_INTERVENTION)' ON DELETE CASCADE ON UPDATE CASCADE;

update EMPLOYE
set NOM_EMPLOYE="Marc"
where NOM_EMPLOYE="Marco";

ALTER TABLE EMPLOYE
ADD EMAIL char(255);

ALTER TABLE EMPLOYE
DROP COLUMN EMAIL;

QUESTION 2

CREATE VIEW INTERVENTION_TRES_URGENTES AS(
SELECT INTERVENTION.NUM_INTERVENTION, DATE_PREVUE, NOM_TYPE
from INTERVENTION,TYPEINTERVENTION
where INTERVENTION.NUM_INTERVENTION=TYPEINTERVENTION.NUM_INTERVENTION AND NUM_TYPE=1
order by INTERVENTION.NUM_INTERVENTION asc)

QUESTION 3

INSERT INTO EQUIPEMENT(NUM_EQUIPEMENT,NOM_EQUIPEMENT)
VALUES(105, "Serveur de recherche");

QUESTION 4

1. SELECT NUM_INTERVENTION, DATE_PREVUE
FROM INTERVENTION
ORDER BY NUM_INTERVENTION ASC, DATE_PREVUE ASC

2.SELECT *
FROM INTERVENTION
WHERE MONTH(DATE_PREVUE)=7 AND YEAR(DATE_PREVUE)=2014

3.SELECT *
FROM INTERVENTION
WHERE DATE_PREVUE=DATE_EFFECTIVE

4.SELECT TECHNICIEN.NUM_TECHNICIEN, COUNT(INTERVENTION.NUM_INTERVENTION) AS NOMBRE_INTERVENTION
FROM TECHNICIEN, INTERVENTION
GROUP BY TECHNICIEN.NUM_TECHNICIEN

5.SELECT NOM_SOUS_DIRECTION
FROM DIRECTION
INNER JOIN SOUSDIRECTION ON SOUSDIRECTION.NUM_DIRECTION=DIRECTION.NUM_DIRECTION
group by DIRECTION.NUM_DIRECTION;

6.SELECT NUM_TECHNICIEN
FROM TECHNICIEN
WHERE NUM_TECHNICIEN NOT IN (SELECT NUM_TECHNICIEN
                             FROM INTERVENTION)

7.

8. 